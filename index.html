<!-- @format -->

<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Technologies Used in Project</title>
		<!-- Add Bootstrap CSS link -->
		<link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" />
		<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
	</head>
	<body>
		<div class="container mt-5">
			<h2>Technologies Used in Project</h2>
		</div>

		<div class="container mt-5">
			<div class="row" id="technology-container"></div>
			<script src="https://cdn.juancbotero.com/assets/js/technologies.js"></script>
			<script defer>
				displayTechnologies(['react', 'next-ui', 'postgre-sql', 'cloudflare', 'gcp', 'node-js']);
			</script>
		</div>

		<style>
			.slick-slide img {
				width: 50%;
				height: auto;
			}
		</style>
		<div class="container">
			<section class="logos-1 slider" id="slider-container-1"></section>
			<section class="logos-2 slider" id="slider-container-2"></section>
		</div>

		<script>
			function shuffleArray(array) {
				for (let i = array.length - 1; i > 0; i--) {
					const j = Math.floor(Math.random() * (i + 1));
					[array[i], array[j]] = [array[j], array[i]];
				}
				return array;
			}

			// Function to generate the slider HTML based on the clients array
			function generateSlider(clients, element) {
				// Get the container element
				const sliderContainer = document.getElementById(element);

				// Dynamically generate the slider HTML
				clients.forEach((client) => {
					const slide = document.createElement('div');
					slide.className = 'slide';
					slide.innerHTML = `<img src="${client.logo}" alt="${client.name} Logo">`;
					sliderContainer.appendChild(slide);
				});
			}

			function generateAnimation(element, speed) {
				jQuery(element).slick({
					speed: speed,
					autoplay: true,
					autoplaySpeed: 0,
					cssEase: 'linear',
					slidesToShow: 5,
					slidesToScroll: 1,
					arrows: false,
					dots: false,
					pauseOnHover: false,
					responsive: [
						{
							breakpoint: 768,
							settings: {
								slidesToShow: 4,
							},
						},
						{
							breakpoint: 520,
							settings: {
								slidesToShow: 3,
							},
						},
					],
				});
			}

			// Fetch the array of clients from the JSON file
			fetch('https://cdn.juancbotero.com/assets/js/clients&allies.json')
				.then((response) => response.json())
				.then((clients) => {
					// Call the function to generate the slider HTML

					generateSlider(clients, 'slider-container-1');

					const shuffledClients = shuffleArray(clients);
					generateSlider(shuffledClients, 'slider-container-2');

					jQuery(document).ready(function () {
						generateAnimation('.logos-1', 9000);
						generateAnimation('.logos-2', 5000);
					});
				})
				.catch((error) => console.error('Error fetching clients:', error));
		</script>
	</body>
</html>
